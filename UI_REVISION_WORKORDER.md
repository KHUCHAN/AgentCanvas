# AgentCanvas UI ê°œì • ì‘ì—…ì§€ì‹œì„œ

**ì‘ì„±ì¼:** 2026-02-20
**ê·¼ê±°:** ì‹¤ì œ ë¹Œë“œëœ UI ìŠ¤í¬ë¦°ìƒ· ê¸°ë°˜ ë¦¬ë·°
**ê´€ë ¨ ë¬¸ì„œ:** UI.md Â§2.3, UX.md Â§10 (REV-1~7)

---

## ìš”ì•½

ì‹¤ì œ UI ë¦¬ë·° ê²°ê³¼ 7ê°€ì§€ ë¬¸ì œê°€ ë°œê²¬ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ ë¬¸ì„œëŠ” ê° ë¬¸ì œì˜ ì›ì¸, ìˆ˜ì • ë°©ë²•, ì˜í–¥ íŒŒì¼, êµ¬í˜„ ìˆœì„œë¥¼ ì •ì˜í•©ë‹ˆë‹¤.

### ë³€ê²½ ì „/í›„ ë¹„êµ

```
[ ë³€ê²½ ì „ â€” í˜„ì¬ êµ¬í˜„ ]

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AgentCanvas  [Kanbanâ”‚Graphâ”‚Schedule]                Settings  Command Barâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [+] [+ Rule]                                                           â”‚
â”‚                                                                         â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚         â”‚ Backend Coderâ”‚     â”‚ Common Rules â”‚                           â”‚
â”‚         â”‚ Skills 1     â”‚     â”‚ (ë¦¬ìŠ¤íŠ¸)      â”‚   [Node Library]          â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   [Inspector] â† ìŠ¤í¬ë¡¤ âœ—  â”‚
â”‚                â”‚                                 [AI Prompt] â† ë¶ˆí•„ìš”    â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”                         [Run]                   â”‚
â”‚         â”‚ Frontend     â”‚                         [Memory] â† ë¶ˆí•„ìš”      â”‚
â”‚         â”‚ Coder        â”‚                                                 â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     (ì •ì  êµ¬ì¡°ë„)                                â”‚
â”‚                â”‚             (ëª¨ë‹ˆí„°ë§ ê¸°ëŠ¥ ì—†ìŒ)                          â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”                                                 â”‚
â”‚         â”‚ Orchestrator â”‚                                                 â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                                 â”‚
â”‚                â”‚                                                         â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”                                                 â”‚
â”‚         â”‚ QA Tester    â”‚                                                 â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                 â”‚
â”‚  (Agent ì¶”ê°€ ë²„íŠ¼ ì—†ìŒ, ë”ë¸”í´ë¦­ ë™ì‘ ì—†ìŒ, íƒœìŠ¤í¬ ì§€ì‹œ ë¶ˆê°€)               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Skills 8 Â· Rules 1 Â· Errors 0 Â· ...                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


[ ë³€ê²½ í›„ â€” ëª©í‘œ ]

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸŸ¢ AgentCanvas   [Kanbanâ”‚Graphâ”‚Schedule]               âš™ Settings  âŒ˜K  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [+] [+ Agentâ˜…] [+ Rule]                                               â”‚
â”‚                                                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
â”‚   â”‚ğŸ¤– Orchestratorâ”‚â”€â”€â”€â”€â†’â”‚ğŸ”§ Coder      â”‚    â”Œâ”€ Right Panel â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 75% â”‚     â”‚ âš¡ working    â”‚    â”‚ [Libraryâ”‚Inspectorâ”‚    â”‚  â”‚
â”‚   â”‚ â­ ë¦¬ë”       â”‚     â”‚ í”„ë¡œê·¸ë ˆìŠ¤ ë°”   â”‚    â”‚  Taskâ˜…â”‚Run]            â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚                          â”‚  â”‚
â”‚          â”‚ â† ìœ„ì„ ì—£ì§€ í•˜ì´ë¼ì´íŠ¸            â”‚ TASK â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚   â”‚ğŸ§ª Tester     â”‚     â”‚ Common Rules â”‚    â”‚ â”‚ "ì´ PR ë¦¬ë·°í•´ì¤˜"    â”‚ â”‚  â”‚
â”‚   â”‚ ğŸ’¤ idle       â”‚     â”‚              â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ [â–¶ Submit Work]            â”‚  â”‚
â”‚                                             â”‚                          â”‚  â”‚
â”‚   (ë”ë¸”í´ë¦­ â†’ AgentDetailModal íŒì—…)         â”‚ HISTORY â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  â”‚
â”‚   (ì‹¤ì‹œê°„ ìƒíƒœ + ì´í™íŠ¸ SVG í™œìš©)             â”‚ Â· PR #42 â€” ì™„ë£Œ (3m)   â”‚  â”‚
â”‚                                             â”‚ Â· ë¦¬íŒ©í„°ë§ â€” ì‹¤í–‰ ì¤‘... â”‚  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  (overflow-y: auto âœ“)  â”‚  â”‚
â”‚   â”‚  Build Team Prompt (í•­ìƒ í‘œì‹œ, í•˜ë‹¨)    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  [â–¶ Build] â”‚                              â”‚
â”‚   â”‚  â”‚ "í’€ìŠ¤íƒ íŒ€ ë§Œë“¤ì–´ì¤˜"   â”‚            â”‚                              â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚                              â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Agents 4 Â· Tasks 5 Â· Done 2 Â· Errors 0                 [â–¶ Build New]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## TASK-1: ìŠ¤í¬ë¡¤ ì‹œìŠ¤í…œ êµ¬í˜„

**ìš°ì„ ìˆœìœ„:** ğŸ”´ P0 (ëª¨ë“  íŒ¨ë„ì— ì˜í–¥)
**ì˜ˆìƒ ê³µìˆ˜:** 0.5ì¼

### ë¬¸ì œ

ì˜¤ë¥¸ìª½ íŒ¨ë„ì˜ ì½˜í…ì¸ ê°€ íŒ¨ë„ ë†’ì´ë¥¼ ì´ˆê³¼í•´ë„ ìŠ¤í¬ë¡¤ì´ ë™ì‘í•˜ì§€ ì•ŠìŒ. Inspector, Library, Run History ë“±ì—ì„œ ì½˜í…ì¸ ê°€ ì˜ë¦¼.

### ì›ì¸

`RightPanel.tsx` ë° í•˜ìœ„ íŒ¨ë„ë“¤ì˜ CSSì—ì„œ `overflow: auto`ê°€ ì„ ì–¸ë˜ì–´ ìˆìœ¼ë‚˜, ë¶€ëª¨ ì»¨í…Œì´ë„ˆì— ë†’ì´ ì œí•œ(`max-height`, `flex` ê¸°ë°˜)ì´ ì„¤ì •ë˜ì§€ ì•Šì•„ `overflow`ê°€ ì‹¤ì§ˆì ìœ¼ë¡œ ë™ì‘í•˜ì§€ ì•ŠìŒ.

### ìˆ˜ì • ë°©ë²•

**íŒŒì¼: `webview-ui/src/styles.css`**

```css
/* ì˜¤ë¥¸ìª½ íŒ¨ë„ ë£¨íŠ¸ â€” flex columnìœ¼ë¡œ ë†’ì´ 100% ì°¨ì§€ */
.right-panel {
  display: flex;
  flex-direction: column;
  height: 100%;           /* ë¶€ëª¨(grid cell)ì—ì„œ ë°›ì€ ë†’ì´ */
  min-height: 0;          /* flex ì•„ì´í…œì´ ì¶•ì†Œ ê°€ëŠ¥í•˜ë„ë¡ */
}

/* íƒ­ í—¤ë” â€” ê³ ì • ë†’ì´ */
.right-panel-tabs {
  flex-shrink: 0;
}

/* íŒ¨ë„ ì½˜í…ì¸  â€” ë‚¨ì€ ê³µê°„ ì°¨ì§€ + ìŠ¤í¬ë¡¤ */
.panel-content {
  flex: 1;
  overflow-y: auto;
  min-height: 0;          /* í•µì‹¬: flex ì•„ì´í…œ ì¶•ì†Œ í—ˆìš© */
}
```

**íŒŒì¼: `webview-ui/src/panels/RightPanel.tsx`**

ê° íŒ¨ë„ ëª¨ë“œì˜ ë£¨íŠ¸ì— `.panel-content` í´ë˜ìŠ¤ê°€ ì¼ê´€ì ìœ¼ë¡œ ì ìš©ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸. ëˆ„ë½ëœ ê²½ìš° ë˜í¼ ì¶”ê°€.

### í™•ì¸ ê¸°ì¤€

- [ ] Inspectorì—ì„œ ë…¸ë“œ í”„ë¡œí¼í‹°ê°€ 10ê°œ ì´ìƒì¼ ë•Œ ì„¸ë¡œ ìŠ¤í¬ë¡¤ ë™ì‘
- [ ] Libraryì—ì„œ ìŠ¤í‚¬ ëª©ë¡ì´ 20ê°œ ì´ìƒì¼ ë•Œ ì„¸ë¡œ ìŠ¤í¬ë¡¤ ë™ì‘
- [ ] Run Historyì—ì„œ ì‹¤í–‰ ê¸°ë¡ì´ í™”ë©´ ë†’ì´ ì´ˆê³¼ ì‹œ ìŠ¤í¬ë¡¤ ë™ì‘
- [ ] ê° íŒ¨ë„ íƒ­ ì „í™˜ ì‹œ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ ì´ˆê¸°í™”

---

## TASK-2: AI Prompt íƒ­ ì‚­ì œ â†’ ìº”ë²„ìŠ¤ í•˜ë‹¨ Build Prompt ìƒì‹œ ë°°ì¹˜

**ìš°ì„ ìˆœìœ„:** ğŸ”´ P0 (í•µì‹¬ ì›Œí¬í”Œë¡œìš° ë³€ê²½)
**ì˜ˆìƒ ê³µìˆ˜:** 1.5ì¼

### ë³€ê²½ ë‚´ìš©

1. ì˜¤ë¥¸ìª½ íŒ¨ë„ì—ì„œ "AI Prompt" íƒ­ ì™„ì „ ì œê±°
2. ìº”ë²„ìŠ¤ ì˜ì—­ í•˜ë‹¨ ê°€ìš´ë°ì— Build Team í”„ë¡¬í”„íŠ¸ë¥¼ **í•­ìƒ** í‘œì‹œ
3. íŒ€ ë¯¸ìƒì„± ì‹œ: ì „ì²´ í¬ê¸° í”„ë¡¬í”„íŠ¸ (í˜„ì¬ BuildPrompt.tsx ê¸°ë°˜)
4. íŒ€ ì¡´ì¬ ì‹œ: ì¶•ì†Œí˜• í”„ë¡¬í”„íŠ¸ ë°” (1ì¤„ ì…ë ¥ + Rebuild ë²„íŠ¼)

### ìˆ˜ì • íŒŒì¼

**1. `webview-ui/src/panels/RightPanel.tsx`**

```typescript
// ì‚­ì œ: mode === "prompt" ê´€ë ¨ ì½”ë“œ ì „ì²´
// ì‚­ì œ: íƒ­ ë²„íŠ¼ ì¤‘ "AI Prompt" í•­ëª©
// tabs ë°°ì—´ì—ì„œ { id: "prompt", label: "AI Prompt" } ì œê±°
```

**2. `webview-ui/src/components/BuildPromptBar.tsx` (ì‹ ê·œ ìƒì„±)**

```typescript
interface BuildPromptBarProps {
  hasTeam: boolean;                    // íŒ€ ì¡´ì¬ ì—¬ë¶€
  prompt: string;                      // í”„ë¡¬í”„íŠ¸ í…ìŠ¤íŠ¸
  onPromptChange: (val: string) => void;
  onBuildTeam: () => void;             // ë¹Œë“œ/ë¦¬ë¹Œë“œ ì‹¤í–‰
  backends: CliBackend[];              // ì„ íƒ ê°€ëŠ¥í•œ ë°±ì—”ë“œ
  selectedBackend: string;
  onBackendChange: (id: string) => void;
  isBuilding: boolean;                 // ë¹Œë“œ ì§„í–‰ ì¤‘
  progress?: GenerationProgress;       // ì§„í–‰ ìƒíƒœ
}
```

- íŒ€ ë¯¸ìƒì„± ì‹œ: í° ì¹´ë“œ í˜•íƒœ (560px ë„ˆë¹„, ê±´ê°„ ë¹Œë“œ í”„ë¡¬í”„íŠ¸ + í€µ í…œí”Œë¦¿ ì¹© + ë°±ì—”ë“œ ì„ íƒ)
- íŒ€ ì¡´ì¬ ì‹œ: í•˜ë‹¨ ë°” í˜•íƒœ (ìº”ë²„ìŠ¤ ë„ˆë¹„ 80%, ë†’ì´ 48px, ì…ë ¥ + [â–¶ Rebuild])
- ìœ„ì¹˜: ìº”ë²„ìŠ¤ ì˜ì—­ í•˜ë‹¨ ê°€ìš´ë°, `position: absolute; bottom: 24px; left: 50%; transform: translateX(-50%)`

**3. `webview-ui/src/App.tsx`**

```typescript
// GraphView/KanbanView/ScheduleView ë‚´ë¶€ê°€ ì•„ë‹Œ,
// ìº”ë²„ìŠ¤ ì˜ì—­ ì»¨í…Œì´ë„ˆ ì•ˆì— ì˜¤ë²„ë ˆì´ë¡œ ë°°ì¹˜
<div className="canvas-area" style={{ position: "relative" }}>
  {activeView === "graph" && <GraphView ... />}
  {activeView === "kanban" && <KanbanView ... />}
  {activeView === "schedule" && <ScheduleView ... />}

  {/* í•­ìƒ í‘œì‹œë˜ëŠ” Build Prompt ë°” */}
  <BuildPromptBar
    hasTeam={agents.length > 0}
    prompt={buildPrompt}
    onBuildTeam={handleBuildTeam}
    ...
  />
</div>
```

**4. `webview-ui/src/styles.css`**

```css
/* ì¶•ì†Œí˜• Build Prompt ë°” */
.build-prompt-bar {
  position: absolute;
  bottom: 24px;
  left: 50%;
  transform: translateX(-50%);
  width: min(80%, 700px);
  background: var(--bg-elevated);
  border: 1px solid var(--line);
  border-radius: 12px;
  padding: 8px 16px;
  display: flex;
  align-items: center;
  gap: 12px;
  box-shadow: 0 4px 24px rgba(0, 0, 0, 0.3);
  z-index: 10;
  backdrop-filter: blur(8px);
}

/* í™•ì¥í˜• (íŒ€ ë¯¸ìƒì„±) */
.build-prompt-expanded {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 560px;
  /* ê¸°ì¡´ BuildPrompt.tsx ìŠ¤íƒ€ì¼ ì¬í™œìš© */
}
```

### í™•ì¸ ê¸°ì¤€

- [ ] ì•± ì§„ì… ì‹œ ìº”ë²„ìŠ¤ ê°€ìš´ë°ì— Build Promptê°€ ë³´ì„
- [ ] íŒ€ ë¹Œë“œ í›„ í•˜ë‹¨ìœ¼ë¡œ ì¶•ì†Œë˜ë©° ìº”ë²„ìŠ¤ë¥¼ ê°€ë¦¬ì§€ ì•ŠìŒ
- [ ] ì¶•ì†Œ ìƒíƒœì—ì„œ ì…ë ¥ í›„ Rebuild ë™ì‘
- [ ] ì˜¤ë¥¸ìª½ íŒ¨ë„ íƒ­ì— "AI Prompt"ê°€ ì—†ìŒ

---

## TASK-3: Task íƒ­ ì‹ ê·œ ì¶”ê°€ (ì‘ì—… ì§€ì‹œ ì¸í„°í˜ì´ìŠ¤)

**ìš°ì„ ìˆœìœ„:** ğŸ”´ P0 (í•µì‹¬ ê¸°ëŠ¥ ë¶€ì¬)
**ì˜ˆìƒ ê³µìˆ˜:** 2ì¼

### ë³€ê²½ ë‚´ìš©

ë¹Œë“œëœ ì—ì´ì „íŠ¸ íŒ€ì— ì‘ì—…ì„ ì§€ì‹œí•˜ëŠ” ì¸í„°í˜ì´ìŠ¤. ì˜¤ë¥¸ìª½ íŒ¨ë„ì˜ ìƒˆ íƒ­.

### ìˆ˜ì • íŒŒì¼

**1. `webview-ui/src/panels/TaskPanel.tsx` (ì‹ ê·œ ìƒì„±)**

```
â”Œâ”€ TASK â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                  â”‚
â”‚  WORK â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ "ì´ PRì„ ë¦¬ë·°í•˜ê³            â”‚  â”‚
â”‚  â”‚  ì½”ë“œ í’ˆì§ˆ ê°œì„ ì‚¬í•­ ì •ë¦¬í•´ì¤˜" â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                  â”‚
â”‚  Priority: [High â–¾]             â”‚
â”‚  Assign to: [Auto â–¾]           â”‚
â”‚                                  â”‚
â”‚  [â–¶ Submit Work]                    â”‚
â”‚                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  ACTIVE TASKS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ”µ Auth ëª¨ë“ˆ êµ¬í˜„ â€” 60%    â”‚  â”‚
â”‚  â”‚    Frontend Coder Â· 2m ê²½ê³¼ â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ ğŸŸ¡ API ë¦¬íŒ©í„°ë§ â€” ëŒ€ê¸° ì¤‘   â”‚  â”‚
â”‚  â”‚    Backend Coder Â· deps: DB â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  HISTORY â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  Â· PR #42 ë¦¬ë·° â€” âœ… ì™„ë£Œ (3m)   â”‚
â”‚  Â· DB ìŠ¤í‚¤ë§ˆ ì„¤ê³„ â€” âœ… ì™„ë£Œ (1m) â”‚
â”‚  Â· ë¦¬íŒ©í„°ë§ â€” âŒ ì‹¤íŒ¨            â”‚
â”‚                                  â”‚  â† overflow-y: auto
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```typescript
interface TaskPanelProps {
  agents: AgentProfile[];              // í˜„ì¬ íŒ€ ì—ì´ì „íŠ¸ ëª©ë¡
  tasks: Task[];                       // í™œì„± íƒœìŠ¤í¬ ëª©ë¡
  runHistory: RunHistoryEntry[];       // ì‹¤í–‰ ê¸°ë¡
  onRunTask: (prompt: string, opts: TaskOptions) => void;
  onCancelTask: (taskId: string) => void;
  onViewTaskDetail: (taskId: string) => void;
}

interface TaskOptions {
  priority: "high" | "medium" | "low";
  assignTo: string | "auto";          // agentId ë˜ëŠ” ìë™ ë°°ì •
}
```

**í•µì‹¬ ë™ì‘:**
1. ì‚¬ìš©ìê°€ ì‘ì—… í”„ë¡¬í”„íŠ¸ ì…ë ¥ + ìš°ì„ ìˆœìœ„/ë‹´ë‹¹ì ì„ íƒ
2. `[â–¶ Submit Work]` í´ë¦­ â†’ Orchestratorì—ê²Œ ì „ë‹¬
3. Orchestratorê°€ Task[] ë¶„í•´ â†’ ê° Taskë¥¼ Workerì— í• ë‹¹
4. Active Tasks ì„¹ì…˜ì— ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ (TaskEvent êµ¬ë…)
5. ì™„ë£Œ/ì‹¤íŒ¨ ì‹œ Historyë¡œ ì´ë™

**2. `webview-ui/src/panels/RightPanel.tsx`**

```typescript
// íƒ­ ì¶”ê°€
{ id: "task", label: "Task", icon: "â–¶" }

// ë Œë”ë§
case "task":
  return <TaskPanel agents={...} tasks={...} onRunTask={...} />;
```

**3. `webview-ui/src/App.tsx`**

- `onRunTask` í•¸ë“¤ëŸ¬: `executeRunLoop` ë˜ëŠ” ìƒˆë¡œìš´ task dispatch ë¡œì§ ì—°ê²°
- TaskEvent ë©”ì‹œì§€ ìˆ˜ì‹  â†’ tasks ìƒíƒœ ì—…ë°ì´íŠ¸ â†’ TaskPanel + ìº”ë²„ìŠ¤ ë™ê¸°í™”

### í™•ì¸ ê¸°ì¤€

- [ ] íŒ€ ë¹Œë“œ í›„ ì˜¤ë¥¸ìª½ íŒ¨ë„ì— "Task" íƒ­ í‘œì‹œ
- [ ] ì‘ì—… í”„ë¡¬í”„íŠ¸ ì…ë ¥ + Submit Work ë²„íŠ¼ ë™ì‘
- [ ] ì‹¤í–‰ ì¤‘ Active Tasksì— ì‹¤ì‹œê°„ ì§„í–‰ë¥  í‘œì‹œ
- [ ] ì™„ë£Œ ì‹œ History ì„¹ì…˜ì— ì´ë™
- [ ] ì „ì²´ ì˜ì—­ ìŠ¤í¬ë¡¤ ë™ì‘

---

## TASK-4: Memory íƒ­ ì‚­ì œ

**ìš°ì„ ìˆœìœ„:** ğŸŸ¡ P1
**ì˜ˆìƒ ê³µìˆ˜:** 0.5ì¼

### ë³€ê²½ ë‚´ìš©

Memory íƒ­ì„ ì˜¤ë¥¸ìª½ íŒ¨ë„ì—ì„œ ì™„ì „ ì‚­ì œ. Orchestratorê°€ ì‹¤í–‰ ì¤‘ Memoryë¥¼ ìë™ ê´€ë¦¬í•˜ë„ë¡ ìœ„ì„.

### ìˆ˜ì • íŒŒì¼

**1. `webview-ui/src/panels/RightPanel.tsx`**

```typescript
// ì‚­ì œ: mode === "memory" ê´€ë ¨ ì½”ë“œ ì „ì²´
// ì‚­ì œ: íƒ­ ë²„íŠ¼ ì¤‘ "Memory" í•­ëª©
```

**2. `webview-ui/src/panels/MemoryPanel.tsx`**

- íŒŒì¼ ì‚­ì œí•˜ê±°ë‚˜, SettingsModal ë‚´ë¶€ ì„œë¸Œ ì»´í¬ë„ŒíŠ¸ë¡œ ì´ë™
- ê´€ë¦¬ì/íŒŒì›Œìœ ì €ìš©ìœ¼ë¡œ Settings â†’ Advanced â†’ Memory ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥í•˜ê²Œ ìœ ì§€

**3. `webview-ui/src/App.tsx`**

- Memory ê´€ë ¨ ìƒíƒœ(`memoryItems`, `memoryQuery` ë“±)ë¥¼ Orchestrator runtimeìœ¼ë¡œ ì´ë™
- Orchestratorê°€ ì‹¤í–‰ ì¤‘ ìë™ìœ¼ë¡œ `addMemory`, `supersedeMemory` í˜¸ì¶œ

**4. `extension/src/agentRuntime.ts` (ë˜ëŠ” í•´ë‹¹ ëŸ°íƒ€ì„ íŒŒì¼)**

- Orchestrator ì‹¤í–‰ ì‹œ ìë™ memory ê´€ë¦¬ ë¡œì§ ì¶”ê°€:
  - Task ì™„ë£Œ ì‹œ í•™ìŠµ ì‚¬í•­ ìë™ ì €ì¥
  - ì—ëŸ¬ ë°œìƒ ì‹œ ì—ëŸ¬ ì»¨í…ìŠ¤íŠ¸ ìë™ ê¸°ë¡
  - Decision í¬ì¸íŠ¸ì—ì„œ ì„ íƒ ê·¼ê±° ìë™ ì €ì¥

### í™•ì¸ ê¸°ì¤€

- [ ] ì˜¤ë¥¸ìª½ íŒ¨ë„ì— "Memory" íƒ­ ì—†ìŒ
- [ ] Task ì‹¤í–‰ ì¤‘ Orchestratorê°€ ìë™ìœ¼ë¡œ memory í•­ëª© ìƒì„±
- [ ] Settings ëª¨ë‹¬ì—ì„œ memory ì¡°íšŒ/ê´€ë¦¬ ê°€ëŠ¥ (ì„ íƒ ì‚¬í•­)

---

## TASK-5: "+ Agent" ë²„íŠ¼ ì¶”ê°€

**ìš°ì„ ìˆœìœ„:** ğŸŸ¡ P1
**ì˜ˆìƒ ê³µìˆ˜:** 0.5ì¼

### ë³€ê²½ ë‚´ìš©

íˆ´ë°”ì— `[+ Agent]` ë²„íŠ¼ì„ `[+ Rule]` ì™¼ìª½ì— ì¶”ê°€. í´ë¦­ ì‹œ ì—ì´ì „íŠ¸ ìƒì„± íŒì—….

### ìˆ˜ì • íŒŒì¼

**1. `webview-ui/src/App.tsx` (íˆ´ë°” ì˜ì—­)**

```typescript
// ê¸°ì¡´: [+] [+ Rule]
// ë³€ê²½: [+] [+ Agent] [+ Rule]

<button className="toolbar-btn accent" onClick={handleAddAgent}>
  + Agent
</button>
```

**2. `handleAddAgent` í•¸ë“¤ëŸ¬**

```typescript
function handleAddAgent() {
  // ë°©ë²• A: ê°„ë‹¨í•œ Agent ìƒì„± íŒì—… (ì´ë¦„ + ì—­í•  + í”„ë¡œë°”ì´ë”)
  setShowAgentCreationModal(true);

  // ë°©ë²• B: ì¦‰ì‹œ ê¸°ë³¸ Agent ìƒì„± í›„ AgentDetailModal ì—´ê¸°
  const newAgent = createDefaultAgent();
  openAgentDetailModal(newAgent.id);
}
```

- ìƒì„± í›„ ìº”ë²„ìŠ¤ì— ìƒˆ AgentNode ìë™ ë°°ì¹˜ (ë§ˆì§€ë§‰ Agent ì•„ë˜ ë˜ëŠ” ë¹ˆ ê³µê°„ì—)
- ë°”ë¡œ AgentDetailModalì´ ì—´ë ¤ì„œ ì„¸ë¶€ ì„¤ì • ê°€ëŠ¥

**3. `webview-ui/src/styles.css`**

```css
/* ê¸°ì¡´ + Rule ë²„íŠ¼ê³¼ ë™ì¼ ìŠ¤íƒ€ì¼ */
.toolbar-btn.agent {
  background: var(--secondary);    /* ë¸”ë£¨ #4a87e8 */
  color: white;
}
```

### í™•ì¸ ê¸°ì¤€

- [ ] íˆ´ë°”ì— `[+] [+ Agent] [+ Rule]` ìˆœì„œë¡œ 3ê°œ ë²„íŠ¼ í‘œì‹œ
- [ ] `[+ Agent]` í´ë¦­ ì‹œ ì—ì´ì „íŠ¸ ìƒì„± íŒì—…/ëª¨ë‹¬ ì—´ë¦¼
- [ ] ìƒì„±ëœ ì—ì´ì „íŠ¸ê°€ ìº”ë²„ìŠ¤ì— ë…¸ë“œë¡œ í‘œì‹œ
- [ ] ìƒì„± ì§í›„ AgentDetailModalë¡œ ì„¸ë¶€ ì„¤ì • ê°€ëŠ¥

---

## TASK-6: Agent ë”ë¸”í´ë¦­ â†’ ê´€ë¦¬ íŒì—…

**ìš°ì„ ìˆœìœ„:** ğŸŸ¡ P1
**ì˜ˆìƒ ê³µìˆ˜:** 0.5ì¼

### ë³€ê²½ ë‚´ìš©

Agent ë…¸ë“œë¥¼ ë”ë¸”í´ë¦­í•˜ë©´ `AgentDetailModal`ì´ ì¦‰ì‹œ ì—´ë¦¬ë©°, 4ê°œ íƒ­(Overview / Skills / Rules / MCP)ìœ¼ë¡œ ì—ì´ì „íŠ¸ ì„¤ì • ì „ì²´ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆìŒ.

### ìˆ˜ì • íŒŒì¼

**1. `webview-ui/src/views/GraphView.tsx`**

```typescript
// ReactFlowì˜ onNodeDoubleClick ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
const onNodeDoubleClick = useCallback(
  (_event: React.MouseEvent, node: Node) => {
    if (node.type === "agent") {
      // AgentDetailModal ì—´ê¸°
      props.onOpenAgentDetail(node.id);
    } else {
      // ê¸°ì¡´ ë™ì‘: íŒŒì¼ ì—´ê¸°
      props.onOpenFile(node.data.filePath);
    }
  },
  [props.onOpenAgentDetail, props.onOpenFile]
);

// ReactFlow ì»´í¬ë„ŒíŠ¸ì— ì—°ê²°
<ReactFlow
  ...
  onNodeDoubleClick={onNodeDoubleClick}
/>
```

**2. ê¸°ì¡´ ë™ì‘ ìœ ì§€**

- **ì‹±ê¸€ í´ë¦­:** ê¸°ì¡´ì²˜ëŸ¼ Inspectorì— ë…¸ë“œ ìš”ì•½ í‘œì‹œ
- **ë”ë¸”í´ë¦­:** AgentDetailModal íŒì—… (Skills, MCP, Rules, Overview íƒ­)
- AgentDetailModalì€ ì´ë¯¸ êµ¬í˜„ë˜ì–´ ìˆìœ¼ë¯€ë¡œ (`AgentDetailModal.tsx`) ì—°ê²°ë§Œ í•˜ë©´ ë¨

### í™•ì¸ ê¸°ì¤€

- [ ] Agent ë…¸ë“œ ì‹±ê¸€í´ë¦­ â†’ Inspectorì— ìš”ì•½ í‘œì‹œ
- [ ] Agent ë…¸ë“œ ë”ë¸”í´ë¦­ â†’ AgentDetailModal íŒì—… ì—´ë¦¼
- [ ] ëª¨ë‹¬ì—ì„œ Skills/MCP ì¶”ê°€Â·ì‚­ì œ ê°€ëŠ¥
- [ ] ëª¨ë‹¬ ë‹«ê¸° í›„ ìº”ë²„ìŠ¤ ë…¸ë“œì— ë³€ê²½ì‚¬í•­ ë°˜ì˜
- [ ] Agent ì™¸ ë…¸ë“œ (Skill, Rule) ë”ë¸”í´ë¦­ â†’ ê¸°ì¡´ ë™ì‘ (íŒŒì¼ ì—´ê¸°) ìœ ì§€

---

## TASK-7: ìº”ë²„ìŠ¤ = ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ

**ìš°ì„ ìˆœìœ„:** ğŸ”´ P0 (í•µì‹¬ ê°€ì¹˜ ë³€ê²½)
**ì˜ˆìƒ ê³µìˆ˜:** 3ì¼

### ë³€ê²½ ë‚´ìš©

Graph ìº”ë²„ìŠ¤ë¥¼ ì •ì  êµ¬ì¡°ë„ì—ì„œ **ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ í™”ë©´**ìœ¼ë¡œ ì „í™˜. ì—ì´ì „íŠ¸ì˜ í˜„ì¬ ìƒíƒœ, íƒœìŠ¤í¬ ì§„í–‰ë¥ , ë°ì´í„° íë¦„ì„ ì‹œê°ì ìœ¼ë¡œ í‘œí˜„.

### 7-1. Agent ë…¸ë“œ ìƒíƒœ í‘œì‹œ

**íŒŒì¼: `webview-ui/src/components/nodes/AgentNode.tsx`**

```typescript
interface AgentNodeData {
  ...existing fields...
  // ì‹ ê·œ: ì‹¤ì‹œê°„ ìƒíƒœ
  executionState: "idle" | "thinking" | "working" | "error" | "done" | "blocked";
  currentTask?: string;        // í˜„ì¬ ìˆ˜í–‰ ì¤‘ì¸ íƒœìŠ¤í¬ ì´ë¦„
  progress?: number;           // 0~100 ì§„í–‰ë¥ 
}
```

**ìƒíƒœë³„ ì‹œê° í‘œí˜„:**

| ìƒíƒœ | í…Œë‘ë¦¬ ìƒ‰ | ì´í™íŠ¸ | ì•„ì´ì½˜ |
|------|----------|--------|--------|
| `idle` | ê¸°ë³¸ (muted) | ì—†ìŒ | ğŸ’¤ |
| `thinking` | ë¸”ë£¨ #4a87e8 | í„ìŠ¤ glow | ğŸ’­ |
| `working` | í‹¸ #2fa184 | í”„ë¡œê·¸ë ˆìŠ¤ ë°” + shimmer | âš¡ |
| `error` | ë ˆë“œ #d95c4f | ë ˆë“œ í„ìŠ¤ (EFFECT-3) | âŒ |
| `done` | í‹¸ #2fa184 (muted) | ì²´í¬ë§ˆí¬ (EFFECT-2) | âœ… |
| `blocked` | ì•°ë²„ #d4a11e | ëŠë¦° í„ìŠ¤ (EFFECT-4) | â³ |

**CSS ì¶”ê°€:**

```css
/* ì‹¤í–‰ ìƒíƒœë³„ ë…¸ë“œ í…Œë‘ë¦¬ */
.agent-node[data-state="working"] {
  border-color: var(--accent);
  box-shadow: 0 0 12px rgba(47, 161, 132, 0.3);
}

.agent-node[data-state="error"] {
  border-color: var(--danger);
  animation: error-pulse 1.5s infinite;
}

.agent-node[data-state="thinking"] {
  border-color: var(--secondary);
  animation: thinking-glow 2s ease-in-out infinite;
}

/* í”„ë¡œê·¸ë ˆìŠ¤ ë°” (ë…¸ë“œ í•˜ë‹¨) */
.agent-node-progress {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: var(--line);
  border-radius: 0 0 var(--node-radius) var(--node-radius);
  overflow: hidden;
}

.agent-node-progress-fill {
  height: 100%;
  background: var(--accent);
  transition: width 0.3s;
}

@keyframes error-pulse {
  0%, 100% { box-shadow: 0 0 8px rgba(217, 92, 79, 0.2); }
  50% { box-shadow: 0 0 20px rgba(217, 92, 79, 0.5); }
}

@keyframes thinking-glow {
  0%, 100% { box-shadow: 0 0 8px rgba(74, 135, 232, 0.2); }
  50% { box-shadow: 0 0 16px rgba(74, 135, 232, 0.4); }
}
```

### 7-2. ì—£ì§€ ë°ì´í„° íë¦„ ì• ë‹ˆë©”ì´ì…˜

**íŒŒì¼: `webview-ui/src/styles.css`**

ìœ„ì„(delegates) ì—£ì§€ì—ì„œ ì‹¤í–‰ ì¤‘ì¼ ë•Œ ë°ì´í„° íë¦„ íŒŒí‹°í´ íš¨ê³¼:

```css
/* í™œì„± ìœ„ì„ ì—£ì§€ â€” ëŒ€ì‹œ ì• ë‹ˆë©”ì´ì…˜ */
.react-flow__edge.delegates.active path {
  stroke: var(--accent);
  stroke-width: 2.5;
  stroke-dasharray: 8 4;
  animation: edge-flow 0.8s linear infinite;
}

@keyframes edge-flow {
  0% { stroke-dashoffset: 24; }
  100% { stroke-dashoffset: 0; }
}

/* ì™„ë£Œëœ ì—£ì§€ â€” í˜ì´ë“œ */
.react-flow__edge.delegates.done path {
  stroke: var(--accent);
  stroke-width: 1.5;
  opacity: 0.5;
}
```

### 7-3. TaskEvent êµ¬ë… â†’ ë…¸ë“œ ìƒíƒœ ë™ê¸°í™”

**íŒŒì¼: `webview-ui/src/App.tsx`**

```typescript
// TaskEvent ìˆ˜ì‹  ì‹œ agent ë…¸ë“œ ìƒíƒœ ì—…ë°ì´íŠ¸
useEffect(() => {
  const handler = (event: TaskEvent) => {
    setAgentStates(prev => {
      const next = new Map(prev);
      switch (event.type) {
        case "task_started":
          next.set(event.agentId, {
            state: "working",
            currentTask: event.taskTitle,
            progress: 0,
          });
          break;
        case "task_progress":
          next.set(event.agentId, {
            ...next.get(event.agentId),
            progress: event.progress,
          });
          break;
        case "task_completed":
          next.set(event.agentId, { state: "done" });
          break;
        case "task_failed":
          next.set(event.agentId, { state: "error" });
          break;
        case "task_blocked":
          next.set(event.agentId, { state: "blocked" });
          break;
      }
      return next;
    });
  };

  subscribeToTaskEvents(handler);
  return () => unsubscribeFromTaskEvents(handler);
}, []);
```

### 7-4. SVG ì´í™íŠ¸ ì—ì…‹ í™œìš©

ê¸°ì¡´ ì œì‘ëœ 93ê°œ SVG ì—ì…‹ì„ ëª¨ë‹ˆí„°ë§ UIì— í†µí•©:

| ì´í™íŠ¸ | SVG íŒŒì¼ | ì‚¬ìš©ì²˜ |
|--------|----------|--------|
| Task Running í„ìŠ¤ | `effects/agentcanvas_effect_task_running.svg` | working ìƒíƒœ Agent ë…¸ë“œ |
| Task ì™„ë£Œ ì²´í¬ | `effects/agentcanvas_effect_task_done.svg` | done ìƒíƒœ ì˜¤ë²„ë ˆì´ |
| Task ì‹¤íŒ¨ X | `effects/agentcanvas_effect_task_failed.svg` | error ìƒíƒœ ì˜¤ë²„ë ˆì´ |
| Blocked ê²½ê³  | `effects/agentcanvas_effect_task_blocked.svg` | blocked ìƒíƒœ ë±ƒì§€ |
| í”„ë¡œê·¸ë ˆìŠ¤ shimmer | `effects/agentcanvas_effect_progress_shimmer.svg` | í”„ë¡œê·¸ë ˆìŠ¤ ë°” ì˜¤ë²„ë ˆì´ |
| ë°ì´í„° íë¦„ íŒŒí‹°í´ | `edges/agentcanvas_edge_flow_particle.svg` | í™œì„± ìœ„ì„ ì—£ì§€ |
| ì—£ì§€ ì„ íƒ ê¸€ë¡œìš° | `edges/agentcanvas_edge_select_glow.svg` | í™œì„± ì—£ì§€ í•˜ì´ë¼ì´íŠ¸ |
| ìºë¦­í„° ê°ì • | `characters/agentcanvas_char_emotion_*.svg` | Agent ìƒíƒœ ì•„ì´ì½˜ (ì„ íƒ) |

### í™•ì¸ ê¸°ì¤€

- [ ] Task ì‹¤í–‰ ì¤‘ Agent ë…¸ë“œ í…Œë‘ë¦¬ ìƒ‰ì´ ìƒíƒœì— ë”°ë¼ ë³€í™”
- [ ] Working ìƒíƒœì—ì„œ í”„ë¡œê·¸ë ˆìŠ¤ ë°” í‘œì‹œ + shimmer ì• ë‹ˆë©”ì´ì…˜
- [ ] Error ìƒíƒœì—ì„œ ë ˆë“œ í„ìŠ¤ ì• ë‹ˆë©”ì´ì…˜
- [ ] ìœ„ì„ ì—£ì§€ì— íë¦„ ì• ë‹ˆë©”ì´ì…˜ (ëŒ€ì‹œ ì´ë™)
- [ ] Task ì™„ë£Œ ì‹œ Agent ë…¸ë“œì— ì²´í¬ë§ˆí¬ ì˜¤ë²„ë ˆì´ í‘œì‹œ
- [ ] ì „ì²´ Task ì™„ë£Œ í›„ ëª¨ë“  ë…¸ë“œê°€ idleë¡œ ë³µê·€

---

## êµ¬í˜„ ìˆœì„œ ë° ì˜ì¡´ì„±

```
TASK-1 (ìŠ¤í¬ë¡¤) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ ë…ë¦½
TASK-5 (+ Agent ë²„íŠ¼) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ ë…ë¦½
TASK-6 (ë”ë¸”í´ë¦­) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ ë…ë¦½
TASK-4 (Memory ì‚­ì œ) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ ë…ë¦½
TASK-2 (AI Prompt ì‚­ì œ + BuildPrompt ë°”) â”€â”€â”€â”€â”€â”€â”€â”€â†’ TASK-3 ì„ í–‰
TASK-3 (Task íƒ­) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ TASK-7 ì„ í–‰
TASK-7 (ëª¨ë‹ˆí„°ë§ ìº”ë²„ìŠ¤) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ TASK-3 í•„ìš”
```

### ì¶”ì²œ ì‹¤í–‰ ìˆœì„œ

| ìˆœì„œ | Task | ê³µìˆ˜ | ë³‘ë ¬ ê°€ëŠ¥ |
|------|------|------|----------|
| 1a | TASK-1: ìŠ¤í¬ë¡¤ | 0.5ì¼ | âœ… ë³‘ë ¬ ê°€ëŠ¥ |
| 1b | TASK-5: + Agent ë²„íŠ¼ | 0.5ì¼ | âœ… ë³‘ë ¬ ê°€ëŠ¥ |
| 1c | TASK-6: ë”ë¸”í´ë¦­ | 0.5ì¼ | âœ… ë³‘ë ¬ ê°€ëŠ¥ |
| 1d | TASK-4: Memory ì‚­ì œ | 0.5ì¼ | âœ… ë³‘ë ¬ ê°€ëŠ¥ |
| 2 | TASK-2: Build Prompt ë°” | 1.5ì¼ | |
| 3 | TASK-3: Task íƒ­ | 2ì¼ | |
| 4 | TASK-7: ëª¨ë‹ˆí„°ë§ ìº”ë²„ìŠ¤ | 3ì¼ | |

**ì´ ì˜ˆìƒ ê³µìˆ˜: 8.5ì¼** (ë³‘ë ¬ ìˆ˜í–‰ ì‹œ 6~7ì¼)

---

## ì˜í–¥ë°›ëŠ” íŒŒì¼ ì „ì²´ ëª©ë¡

| íŒŒì¼ | ë³€ê²½ ì¢…ë¥˜ | ê´€ë ¨ Task |
|------|----------|----------|
| `webview-ui/src/styles.css` | ìˆ˜ì • | 1, 2, 3, 5, 7 |
| `webview-ui/src/panels/RightPanel.tsx` | ìˆ˜ì • | 1, 2, 3, 4 |
| `webview-ui/src/App.tsx` | ìˆ˜ì • | 2, 3, 5, 7 |
| `webview-ui/src/components/BuildPromptBar.tsx` | **ì‹ ê·œ** | 2 |
| `webview-ui/src/panels/TaskPanel.tsx` | **ì‹ ê·œ** | 3 |
| `webview-ui/src/panels/PromptPanel.tsx` | ì‚­ì œ/ë¹„í™œì„±í™” | 2 |
| `webview-ui/src/panels/MemoryPanel.tsx` | ì‚­ì œ/ì´ë™ | 4 |
| `webview-ui/src/views/GraphView.tsx` | ìˆ˜ì • | 6, 7 |
| `webview-ui/src/components/nodes/AgentNode.tsx` | ìˆ˜ì • | 7 |

---

*ì´ ë¬¸ì„œëŠ” UX.md Â§10 (REV-1~7) ë° UI.md Â§2.3 (ê°œì •)ê³¼ ì—°ë™ë©ë‹ˆë‹¤.*

---

## 2ì°¨ ê°œì • â€” ë²„ê·¸ ìˆ˜ì • & ê¸°ëŠ¥ ì¶”ê°€ (2026-02-20)

> ê·¼ê±°: BUG_FIX_SPEC.md ë¶„ì„ ê²°ê³¼ + ì‹¤ì œ ì½”ë“œ ê²€ì¦
> êµ¬í˜„ ìƒíƒœ ê²€ì¦ ê²°ê³¼: ë¯¸êµ¬í˜„ 9ê±´ / ë¶€ë¶„êµ¬í˜„ 6ê±´ / êµ¬í˜„ë¨ 6ê±´

---

### TASK-8: Team Rebuild ì‹œ ê¸°ì¡´ íŒ€ ì‚­ì œ [BUG-1] ğŸ”´ P0

**ì˜ˆìƒ ê³µìˆ˜:** 0.5ì¼
**ë¯¸êµ¬í˜„ í™•ì¸:** `AgentPreviewModal.tsx` line 37 â€” `overwriteExisting` ê¸°ë³¸ê°’ `false` ê³ ì •

#### ë¬¸ì œ
Rebuild ë²„íŠ¼ í´ë¦­ í›„ íŒ€ì„ ìƒˆë¡œ ìƒì„±í•´ë„ ê¸°ì¡´ Agentë“¤ì´ ì‚­ì œë˜ì§€ ì•Šê³  ëˆ„ì ë¨.

#### ì›ì¸
```tsx
// AgentPreviewModal.tsx line 37 â€” í˜„ì¬
const [overwriteExisting, setOverwriteExisting] = useState(false);
// Rebuild ëª¨ë“œ ì—¬ë¶€ì™€ ë¬´ê´€í•˜ê²Œ í•­ìƒ falseë¡œ ì‹œì‘
```

#### ìˆ˜ì • ë°©ë²•

**íŒŒì¼: `webview-ui/src/panels/AgentPreviewModal.tsx`**

```tsx
// prop ì¶”ê°€
type AgentPreviewModalProps = {
  open: boolean;
  structure?: GeneratedAgentStructure;
  historyId?: string;
  rebuildMode?: boolean;   // â† ì¶”ê°€
  onClose: () => void;
  onApply: (...) => Promise<void>;
};

// state ì´ˆê¸°ê°’ì„ rebuildModeì— ë”°ë¼ ì„¤ì •
const [overwriteExisting, setOverwriteExisting] = useState(
  props.rebuildMode ?? false
);

useEffect(() => {
  if (!open) { ...; return; }
  setOverwriteExisting(rebuildMode ?? false);  // open ì‹œ rebuildModeë¡œ ë¦¬ì…‹
}, [open, rebuildMode]);
```

**íŒŒì¼: `webview-ui/src/App.tsx`**

```tsx
// generatedPreview ì¶œë ¥ ì‹œ hasTeam ì—¬ë¶€ë¥¼ rebuildModeë¡œ ì „ë‹¬
<AgentPreviewModal
  open={Boolean(generatedPreview)}
  structure={generatedPreview?.structure}
  historyId={generatedPreview?.historyId}
  rebuildMode={hasTeamReady}   // â† ì¶”ê°€
  onClose={...}
  onApply={...}
/>
```

#### í™•ì¸ ê¸°ì¤€
- [ ] ë¹ˆ ìº”ë²„ìŠ¤ì—ì„œ íŒ€ ìƒì„±: `overwriteExisting` ì²´í¬ë°•ìŠ¤ ê¸°ë³¸ í•´ì œ
- [ ] ê¸°ì¡´ íŒ€ ìˆì„ ë•Œ Rebuild: `overwriteExisting` ì²´í¬ë°•ìŠ¤ ê¸°ë³¸ ì²´í¬
- [ ] Apply ì‹œ ê¸°ì¡´ Agent ì‚­ì œ í›„ ìƒˆ íŒ€ìœ¼ë¡œ êµì²´

---

### TASK-9: Chat ë©”ì‹œì§€ ë¯¸í‘œì‹œ & íŒ¨ë„ ì „í™˜ ë¬¸ì œ [BUG-2] ğŸ”´ P0

**ì˜ˆìƒ ê³µìˆ˜:** 1ì¼
**ë¯¸êµ¬í˜„ í™•ì¸:** `App.tsx` `sendChatMessage` (line 1717)ì— `appendLocalChatMessage` í˜¸ì¶œ ì—†ìŒ

#### ë¬¸ì œ
1. Chatì—ì„œ Send í›„ ë‚´ê°€ ë³´ë‚¸ ë©”ì‹œì§€ê°€ í™”ë©´ì— í‘œì‹œë˜ì§€ ì•ŠìŒ
2. Send í›„ RightPanelì´ Libraryì—ì„œ Chatìœ¼ë¡œ ì „í™˜ë˜ì–´ íŒ€ ëª©ë¡ì´ ì‚¬ë¼ì§„ ê²ƒì²˜ëŸ¼ ë³´ì„
3. Extension ì‘ë‹µì´ ì—†ìœ¼ë©´ ì±„íŒ…ì°½ì´ ì˜êµ¬ ê³µë°± ìƒíƒœ

#### ì›ì¸

```tsx
// App.tsx sendChatMessage â€” í˜„ì¬ (line 1717)
const sendChatMessage = async (content: string) => {
  const trimmed = content.trim();
  if (!trimmed) return;
  setChatSending(true);
  try {
    await requestToExtension({ type: "CHAT_SEND", payload: { ... } });
    // âŒ appendLocalChatMessage() í˜¸ì¶œ ì—†ìŒ â†’ ì‚¬ìš©ì ë©”ì‹œì§€ ë¯¸í‘œì‹œ
    setPanelMode("chat");  // â† Library ë·°ë¥¼ Chat ë·°ë¡œ ë®ì–´ì”€
    setPanelOpen(true);
  } finally {
    setChatSending(false);
  }
};
```

#### ìˆ˜ì • ë°©ë²•

**íŒŒì¼: `webview-ui/src/App.tsx`**

```tsx
const sendChatMessage = async (content: string) => {
  const trimmed = content.trim();
  if (!trimmed) return;

  // âœ… 1) ì‚¬ìš©ì ë©”ì‹œì§€ ì¦‰ì‹œ ë¡œì»¬ ì¶”ê°€
  appendLocalChatMessage(
    createLocalChatMessage("user", [{ kind: "text", text: trimmed }])
  );

  setChatSending(true);
  try {
    await requestToExtension({ type: "CHAT_SEND", payload: { ... } });
    // âœ… 2) íŒ¨ë„ ëª¨ë“œ ì „í™˜ ì œê±° â€” ì´ë¯¸ chat íƒ­ì— ìˆì„ ë•Œë§Œ ì „í™˜
    if (panelMode !== "chat") {
      setPanelMode("chat");
    }
    setPanelOpen(true);
  } catch (error) {
    // âœ… 3) ì—ëŸ¬ ì‹œ ì—ëŸ¬ ë©”ì‹œì§€ ë¡œì»¬ ì¶”ê°€
    appendLocalChatMessage(
      createLocalChatMessage("system", [{ kind: "error", message: String(error) }])
    );
  } finally {
    setChatSending(false);
  }
};
```

**íŒŒì¼: `webview-ui/src/panels/RightPanel.tsx`**

Chatê³¼ Libraryë¥¼ ë¶„ë¦¬í•˜ì—¬ í•­ìƒ íƒ­ ì „í™˜ ê°€ëŠ¥í•˜ë„ë¡:

```tsx
// í˜„ì¬: normalizedMode = "library" | "chat" (ì´ì§„ ë¶„ê¸°)
// ìˆ˜ì •: library/chat íƒ­ í—¤ë”ë¥¼ í•­ìƒ í‘œì‹œ, ì„ íƒëœ íƒ­ë§Œ content ë Œë”
<div className="right-panel-tabs">
  <button
    className={mode === "library" ? "tab active" : "tab"}
    onClick={() => onModeChange("library")}
  >Library</button>
  <button
    className={mode === "chat" ? "tab active" : "tab"}
    onClick={() => onModeChange("chat")}
  >Chat</button>
</div>
```

#### í™•ì¸ ê¸°ì¤€
- [ ] Send ì¦‰ì‹œ ë‚´ê°€ ë³´ë‚¸ ë©”ì‹œì§€ê°€ ì±„íŒ…ì°½ì— í‘œì‹œ
- [ ] Library íƒ­ì—ì„œ Send í•´ë„ Libraryê°€ ì‚¬ë¼ì§€ì§€ ì•ŠìŒ
- [ ] Extension ì—ëŸ¬ ë°œìƒ ì‹œ ì—ëŸ¬ ë©”ì‹œì§€ê°€ ì±„íŒ…ì— í‘œì‹œ

---

### TASK-10: ì‚¬ìš©ëŸ‰ 0 í‘œì‹œ ê°œì„  [BUG-3] ğŸŸ¡ P2

**ì˜ˆìƒ ê³µìˆ˜:** 0.5ì¼
**ë¶€ë¶„êµ¬í˜„ í™•ì¸:** BackendUsageTracker ì¸í”„ë¼ êµ¬í˜„ë¨, ì´ˆê¸° ì‹¤í–‰ ì‹œ 0ì´ ì •ìƒì´ë‚˜ UX ì•ˆë‚´ ë¶€ì¬

#### ë¬¸ì œ
íŒ€ Confirm í™”ë©´(AgentPreviewModal)ì˜ Backend usage snapshotì´ ëª¨ë‘ 0ìœ¼ë¡œ í‘œì‹œë¨.
ì²« ì‹¤í–‰ì´ê±°ë‚˜ CLI í˜¸ì¶œì´ ì—†ì—ˆìœ¼ë©´ ë‹¹ì—°íˆ 0ì´ì§€ë§Œ ì‚¬ìš©ìëŠ” ì˜¤ë¥˜ë¡œ ì¸ì‹.

#### ìˆ˜ì • ë°©ë²•

**íŒŒì¼: `webview-ui/src/panels/AgentPreviewModal.tsx`**

```tsx
// ì‚¬ìš©ëŸ‰ì´ 0ì¸ ê²½ìš° ì•ˆë‚´ ë¬¸êµ¬ ì¶”ê°€
{draft.backendUsageAtBuild.length > 0 ? (
  <div className="agent-detail-list">
    {draft.backendUsageAtBuild.map((summary) => {
      const hasData = summary.today.callCount > 0 || summary.thisWeek.callCount > 0;
      return (
        <div key={summary.backendId} className="agent-detail-item">
          <div className="agent-detail-item-header">
            <div className="item-title">{toBackendTitle(summary.backendId)}</div>
            {hasData ? (
              <span className="pill">{Math.round((1 - summary.availabilityScore) * 100)}% used</span>
            ) : (
              <span className="pill muted">ì‚¬ìš© ì´ë ¥ ì—†ìŒ</span>
            )}
          </div>
          {hasData ? (
            <>
              <div className="node-meta">Today: ${summary.today.estimatedCost.toFixed(2)} Â· {summary.today.callCount} calls</div>
              <div className="node-meta">Week: ${summary.thisWeek.estimatedCost.toFixed(2)} Â· Month: ${summary.thisMonth.estimatedCost.toFixed(2)}</div>
            </>
          ) : (
            <div className="node-meta muted">CLI í˜¸ì¶œ í›„ ìë™ ì§‘ê³„ë©ë‹ˆë‹¤</div>
          )}
        </div>
      );
    })}
  </div>
) : (
  <div className="node-meta muted">ì‚¬ìš© ì´ë ¥ì´ ì—†ìŠµë‹ˆë‹¤. CLI ì‹¤í–‰ í›„ ìë™ ì§‘ê³„ë©ë‹ˆë‹¤.</div>
)}
```

#### í™•ì¸ ê¸°ì¤€
- [ ] ì‚¬ìš© ì´ë ¥ ì—†ì„ ë•Œ "ì‚¬ìš© ì´ë ¥ ì—†ìŒ" ë±ƒì§€ í‘œì‹œ
- [ ] "CLI í˜¸ì¶œ í›„ ìë™ ì§‘ê³„ë©ë‹ˆë‹¤" ì•ˆë‚´ ë¬¸êµ¬ í‘œì‹œ
- [ ] ì‹¤ì œ í˜¸ì¶œ ì´ë ¥ ìˆì„ ë•Œ ì •ìƒ ìˆ˜ì¹˜ í‘œì‹œ

---

### TASK-11: Orchestrator Backend â†’ Chat ìë™ ë™ê¸°í™” [BUG-4] ğŸŸ  P1

**ì˜ˆìƒ ê³µìˆ˜:** 0.5ì¼
**ë¯¸êµ¬í˜„ í™•ì¸:** `App.tsx` line 136 â€” `chatBackendId` í•˜ë“œì½”ë”© "claude", ë™ê¸°í™” ë¡œì§ ì—†ìŒ

#### ë¬¸ì œ
íŒ€ Orchestratorê°€ Codexë¡œ ì„¤ì •ë˜ì–´ë„ Chatì€ í•­ìƒ Claudeë¡œ ì „ì†¡.

#### ìˆ˜ì • ë°©ë²•

**íŒŒì¼: `webview-ui/src/App.tsx`**

```tsx
// orchestrator agent íƒìƒ‰
const orchestratorAgent = useMemo(
  () => snapshot?.agents?.find((agent) => agent.isOrchestrator),
  [snapshot?.agents]
);

// orchestrator backendë¥¼ chatBackendIdì— ë™ê¸°í™”
useEffect(() => {
  if (!orchestratorAgent?.runtime) return;
  if (orchestratorAgent.runtime.kind !== "cli") return;
  const backendId = orchestratorAgent.runtime.backendId;
  if (backendId && backendId !== "auto") {
    setChatBackendId(backendId as Exclude<CliBackend["id"], "auto">);
  }
}, [orchestratorAgent]);
```

**íŒŒì¼: `webview-ui/src/panels/ChatInput.tsx`**

```tsx
// orchestrator ê³ ì •ì¼ ë•Œ backend select disabled
<select
  className="chat-backend-select"
  value={props.backendId}
  onChange={(event) => props.onBackendChange(...)}
  disabled={props.disabled || props.orchestratorLocked}  // â† ì¶”ê°€
  title={props.orchestratorLocked ? "Orchestrator ë°±ì—”ë“œë¡œ ê³ ì •ë©ë‹ˆë‹¤" : undefined}
>
```

#### í™•ì¸ ê¸°ì¤€
- [ ] Orchestratorê°€ Codex ì‚¬ìš© ì‹œ Chat Backend ìë™ìœ¼ë¡œ Codex ì „í™˜
- [ ] Orchestrator ì—†ì„ ë•Œ Chat Backend ììœ  ì„ íƒ ê°€ëŠ¥
- [ ] ë™ê¸°í™” ì‹œ ChatInput backend selectì— ì•ˆë‚´ í‘œì‹œ

---

### TASK-12: ìµœì‹  ëª¨ë¸ ëª©ë¡ & ë“œë¡­ë‹¤ìš´ ì „í™˜ [FEAT-5] ğŸŸ¢ P3

**ì˜ˆìƒ ê³µìˆ˜:** 1ì¼
**ë¶€ë¶„êµ¬í˜„ í™•ì¸:** `ChatInput.tsx` line 68 â€” `<input>` (ììœ  ì…ë ¥), `<select>` ë¯¸ì „í™˜

#### ëª¨ë¸ ëª©ë¡ (CLI ì¡°ì‚¬ ì™„ë£Œ)

| Backend | ëª¨ë¸ | ë³„ì¹­ | í‹°ì–´ |
|---------|------|------|------|
| Claude Code | `claude-haiku-4-5-20251001` | `haiku` | Fast |
| Claude Code | `claude-sonnet-4-5-20250929` | `sonnet` | Standard |
| Claude Code | `claude-opus-4-5-20251101` | `opus` | Advanced |
| Codex CLI | `gpt-4.1` | - | Standard |
| Codex CLI | `gpt-4.1-mini` | - | Fast |
| Codex CLI | `gpt-4.1-nano` | - | Ultra-fast |
| Codex CLI | `gpt-4o` | - | Multimodal |
| Codex CLI | `o3` | - | Reasoning |
| Codex CLI | `o3-mini` | - | Reasoning-fast |
| Codex CLI | `o4-mini` | - | Reasoning-latest |
| Codex CLI | `codex-1` | - | Code-specialist |
| Gemini CLI | `gemini-2.5-flash` | - | Fast |
| Gemini CLI | `gemini-2.5-pro` | - | Advanced |
| Gemini CLI | `gemini-2.0-flash` | - | Stable |
| Aider | (ëª¨ë¸ ììœ  ì…ë ¥) | - | - |

#### ìˆ˜ì • ë°©ë²•

**ì‹ ê·œ íŒŒì¼: `webview-ui/src/utils/modelOptions.ts`**

```ts
export const MODEL_OPTIONS: Record<string, Array<{ id: string; label: string; tier: string }>> = {
  claude: [
    { id: "claude-sonnet-4-5-20250929", label: "Sonnet 4.5 (Standard)", tier: "standard" },
    { id: "claude-haiku-4-5-20251001",  label: "Haiku 4.5 (Fast)",     tier: "fast" },
    { id: "claude-opus-4-5-20251101",   label: "Opus 4.5 (Advanced)",  tier: "advanced" },
  ],
  codex: [
    { id: "gpt-4.1",      label: "GPT-4.1 (Standard)",        tier: "standard" },
    { id: "gpt-4.1-mini", label: "GPT-4.1 Mini (Fast)",       tier: "fast" },
    { id: "gpt-4.1-nano", label: "GPT-4.1 Nano (Ultra-fast)", tier: "fast" },
    { id: "gpt-4o",       label: "GPT-4o (Multimodal)",       tier: "standard" },
    { id: "o3",           label: "o3 (Reasoning)",            tier: "advanced" },
    { id: "o3-mini",      label: "o3-mini (Reasoning-fast)",  tier: "standard" },
    { id: "o4-mini",      label: "o4-mini (Reasoning-latest)",tier: "fast" },
    { id: "codex-1",      label: "Codex-1 (Code specialist)", tier: "advanced" },
  ],
  gemini: [
    { id: "gemini-2.5-pro",   label: "Gemini 2.5 Pro (Advanced)", tier: "advanced" },
    { id: "gemini-2.5-flash", label: "Gemini 2.5 Flash (Fast)",   tier: "fast" },
    { id: "gemini-2.0-flash", label: "Gemini 2.0 Flash (Stable)", tier: "standard" },
  ],
  aider:  [],  // ììœ  ì…ë ¥ í—ˆìš©
  custom: [],  // ììœ  ì…ë ¥ í—ˆìš©
};
```

**íŒŒì¼: `webview-ui/src/panels/ChatInput.tsx`**

```tsx
import { MODEL_OPTIONS } from "../utils/modelOptions";

// input â†’ select ì „í™˜ (backendIdì— ë”°ë¼ ì˜µì…˜ ë™ì  ë³€ê²½)
const modelOptions = MODEL_OPTIONS[props.backendId] ?? [];
{modelOptions.length > 0 ? (
  <select
    value={props.modelId ?? ""}
    onChange={(event) => props.onModelChange(event.target.value)}
    disabled={props.disabled}
  >
    <option value="">ê¸°ë³¸ ëª¨ë¸</option>
    {modelOptions.map((m) => (
      <option key={m.id} value={m.id}>{m.label}</option>
    ))}
  </select>
) : (
  <input value={props.modelId ?? ""} onChange={...} placeholder="model (optional)" />
)}
```

**íŒŒì¼: `extension/src/services/backendProfiles.ts`**

ê° backendì˜ `models[]` ë°°ì—´ì„ ìœ„ ëª©ë¡ìœ¼ë¡œ ì—…ë°ì´íŠ¸.

#### í™•ì¸ ê¸°ì¤€
- [ ] Claude Backend ì„ íƒ ì‹œ claude-haiku/sonnet/opus ë“œë¡­ë‹¤ìš´ í‘œì‹œ
- [ ] Codex Backend ì„ íƒ ì‹œ gpt-4.1, o3, o4-mini ë“± ë“œë¡­ë‹¤ìš´ í‘œì‹œ
- [ ] Gemini Backend ì„ íƒ ì‹œ gemini-2.5-flash/pro ë“œë¡­ë‹¤ìš´ í‘œì‹œ
- [ ] Aider/Customì€ ììœ  ì…ë ¥ input ìœ ì§€

---

### TASK-13: ì±„íŒ… í„°ë¯¸ë„ ìŠ¤íƒ€ì¼ UI [FEAT-6] ğŸŸ¢ P3

**ì˜ˆìƒ ê³µìˆ˜:** 1ì¼

#### ëª©í‘œ
ë²„ë¸” í˜•íƒœ ì±„íŒ… â†’ í„°ë¯¸ë„(CLI) ì¸í„°ë™ì…˜ ë°©ì‹ìœ¼ë¡œ êµì²´

#### ìˆ˜ì • ë°©ë²•

**íŒŒì¼: `webview-ui/src/panels/ChatMessageList.tsx`**

```tsx
// í„°ë¯¸ë„ ë¼ì¸ ë Œë”ë§
const ROLE_PREFIX: Record<string, string> = {
  user: "â¯",
  orchestrator: "â—†",
  system: "â—",
};

<div className={`term-line term-${message.role}`}>
  <span className="term-prefix">{ROLE_PREFIX[message.role] ?? "Â·"}</span>
  <div className="term-body">
    {/* ê¸°ì¡´ content ë Œë” ë¡œì§ ìœ ì§€ */}
  </div>
  <span className="term-timestamp">
    {new Date(message.timestamp).toLocaleTimeString()}
  </span>
</div>
```

**íŒŒì¼: `webview-ui/src/styles.css`**

```css
.chat-messages {
  font-family: "JetBrains Mono", "Fira Code", "SF Mono", monospace;
  font-size: 13px;
  line-height: 1.6;
}
.term-line {
  display: flex;
  gap: 10px;
  padding: 2px 0;
  align-items: flex-start;
}
.term-prefix {
  flex-shrink: 0;
  width: 16px;
  font-size: 12px;
  margin-top: 2px;
}
.term-line.term-user .term-prefix     { color: #7ec8e3; }
.term-line.term-orchestrator .term-prefix { color: #a8e6cf; }
.term-line.term-system .term-prefix   { color: #888; }
.term-body { flex: 1; white-space: pre-wrap; word-break: break-word; }
.term-timestamp { flex-shrink: 0; font-size: 10px; color: var(--fg-muted); margin-top: 3px; }
```

#### í™•ì¸ ê¸°ì¤€
- [ ] ì‚¬ìš©ì ë©”ì‹œì§€ ì•ì— `â¯` í”„ë¦¬í”½ìŠ¤ í‘œì‹œ
- [ ] Orchestrator ì‘ë‹µ ì•ì— `â—†` í”„ë¦¬í”½ìŠ¤ í‘œì‹œ
- [ ] System ë©”ì‹œì§€ ì•ì— `â—` í”„ë¦¬í”½ìŠ¤ í‘œì‹œ
- [ ] ëª¨ë…¸ìŠ¤í˜ì´ìŠ¤ í°íŠ¸ ì ìš©
- [ ] ê° ë©”ì‹œì§€ì— íƒ€ì„ìŠ¤íƒ¬í”„ í‘œì‹œ

---

### TASK-14: Agent ìƒì„± ëª¨ë‹¬ â€” Backend & Model ì„ íƒ [FEAT-7] ğŸŸ¢ P3

**ì˜ˆìƒ ê³µìˆ˜:** 0.5ì¼
**ë¯¸êµ¬í˜„ í™•ì¸:** `AgentCreationModal.tsx` line 8-15 â€” payloadì— backendId, modelId ì—†ìŒ

#### ìˆ˜ì • ë°©ë²•

**íŒŒì¼: `webview-ui/src/panels/AgentCreationModal.tsx`**

```tsx
// State ì¶”ê°€
const [backendId, setBackendId] = useState<string>("claude");
const [modelId, setModelId] = useState<string>("");

// Role select ì•„ë˜ì— ì¶”ê°€
<div className="inspector-field">
  <label>Backend (CLI)</label>
  <select
    value={backendId}
    onChange={(event) => { setBackendId(event.target.value); setModelId(""); }}
  >
    <option value="claude">Claude Code</option>
    <option value="codex">Codex CLI</option>
    <option value="gemini">Gemini CLI</option>
    <option value="aider">Aider</option>
    <option value="custom">Custom</option>
  </select>
</div>

<div className="inspector-field">
  <label>Model</label>
  {(MODEL_OPTIONS[backendId] ?? []).length > 0 ? (
    <select value={modelId} onChange={(e) => setModelId(e.target.value)}>
      <option value="">ê¸°ë³¸ ëª¨ë¸</option>
      {(MODEL_OPTIONS[backendId] ?? []).map((m) => (
        <option key={m.id} value={m.id}>{m.label}</option>
      ))}
    </select>
  ) : (
    <input value={modelId} onChange={(e) => setModelId(e.target.value)} placeholder="model (optional)" />
  )}
</div>

// onCreate payload í™•ì¥
await onCreate({
  name: name.trim(), role, roleLabel, description, systemPrompt, isOrchestrator,
  backendId,   // â† ì¶”ê°€
  modelId: modelId.trim() || undefined,  // â† ì¶”ê°€
});
```

**íŒŒì¼: `webview-ui/src/App.tsx`** â€” `handleCreateAgent`ì—ì„œ backendId/modelIdë¥¼ `AgentProfile.runtime` ë° `preferredModel`ì— ë§¤í•‘

#### í™•ì¸ ê¸°ì¤€
- [ ] Agent ìƒì„± ëª¨ë‹¬ì— Backend ì„ íƒ ë“œë¡­ë‹¤ìš´ ì¶”ê°€
- [ ] ì„ íƒí•œ Backendì— ë”°ë¼ Model ë“œë¡­ë‹¤ìš´ ë™ì  ë³€ê²½
- [ ] ìƒì„±ëœ Agentì˜ `runtime.backendId`ì™€ `preferredModel`ì— ê°’ ë°˜ì˜

---

### TASK-15: TeamPanel +Skill ë²„íŠ¼ & RightPanel New Skill ì„¹ì…˜ ì œê±° [FEAT-8] ğŸŸ¢ P3

**ì˜ˆìƒ ê³µìˆ˜:** 0.5ì¼
**ë¯¸êµ¬í˜„ í™•ì¸:** `TeamPanel.tsx` â€” +Skill ë²„íŠ¼ ì—†ìŒ / `RightPanel.tsx` line 131 â€” newSkill ì„¹ì…˜ ì¡´ì¬

#### ìˆ˜ì • ë°©ë²•

**íŒŒì¼: `webview-ui/src/panels/TeamPanel.tsx`**

```tsx
// prop ì¶”ê°€
type TeamPanelProps = {
  ...
  onCreateSkill: () => void;  // â† ì¶”ê°€
};

// ë²„íŠ¼ ì¶”ê°€
<div className="team-panel-inline-actions">
  <button type="button" onClick={props.onCreateAgent}>+ Agent</button>
  <button type="button" onClick={props.onCreateSkill}>+ Skill</button>  {/* â† ì¶”ê°€ */}
  <button type="button" onClick={props.onRebuildTeam}>Rebuild</button>
</div>
```

**íŒŒì¼: `webview-ui/src/App.tsx`**

```tsx
<TeamPanel
  ...
  onCreateSkill={() => setSkillWizardOpen(true)}  // â† ì¶”ê°€
/>
```

**íŒŒì¼: `webview-ui/src/panels/RightPanel.tsx`**

```tsx
// ì œê±° ëŒ€ìƒ:
// 1) LibrarySectionKeyì—ì„œ "newSkill" ì œê±°
type LibrarySectionKey = "skills" | "agents" | "patterns" | "mcp" | "rules";
//   â†‘ "newSkill" ì‚­ì œ

// 2) collapsedSections ì´ˆê¸°ê°’ì—ì„œ newSkill ì œê±°
const [collapsedSections, setCollapsedSections] = useState({
  skills: false, agents: false, patterns: false, mcp: false, rules: false
  // newSkill: false  â† ì‚­ì œ
});

// 3) New Skill ì„¹ì…˜ UI ë¸”ë¡ ì „ì²´ ì‚­ì œ (ê¸°ì¡´ line 625~631 ë° í•˜ìœ„ form ì „ì²´)

// 4) skillName, skillDescription state ì‚­ì œ
// 5) onCreateSkill prop ì œê±° (TeamPanelë¡œ ì´ë™í–ˆìœ¼ë¯€ë¡œ)
```

#### í™•ì¸ ê¸°ì¤€
- [ ] TeamPanelì— `+ Skill` ë²„íŠ¼ í‘œì‹œ
- [ ] `+ Skill` í´ë¦­ ì‹œ SkillWizardModal ì˜¤í”ˆ
- [ ] RightPanel Libraryì—ì„œ "New Skill" ì„¹ì…˜ ë¯¸í‘œì‹œ

---

### TASK-16: Build Prompt Barì™€ Zoom ë²„íŠ¼ ê²¹ì¹¨ í•´ê²° [LAYOUT-1] ğŸŸ  P1

**ì˜ˆìƒ ê³µìˆ˜:** 0.5ì¼
**ë¯¸êµ¬í˜„ í™•ì¸:** `styles.css` â€” `build-prompt-bar` bottom:32pxê°€ `canvas-controls` bottom:14pxë¥¼ ë®ìŒ

#### ë¬¸ì œ

```css
/* í˜„ì¬ ìƒíƒœ â€” ê²¹ì¹¨ ë°œìƒ */
.build-prompt-bar  { bottom: 32px; z-index: 12; }  /* Build bar */
.canvas-controls   { bottom: 14px; z-index: 5;  }  /* Zoom ë²„íŠ¼ â† ê°€ë ¤ì§ */
```

#### ìˆ˜ì • ë°©ë²• (ê¶Œì¥ â€” ìº”ë²„ìŠ¤ ì»¨íŠ¸ë¡¤ì„ ìœ„ë¡œ ì´ë™)

**íŒŒì¼: `webview-ui/src/styles.css`**

```css
/* canvas-controlsë¥¼ build-prompt-bar ìœ„ë¡œ ì´ë™ */
.canvas-controls {
  position: absolute;
  right: 14px;
  bottom: 90px;   /* build-prompt-bar ë†’ì´(~50px) + ì—¬ìœ  40px */
  z-index: 15;    /* build-prompt-bar(12)ë³´ë‹¤ ë†’ê²Œ */
}

/* build-prompt-barë¥¼ ì•½ê°„ ë” ì•„ë˜ë¡œ */
.build-prompt-bar {
  bottom: 16px;   /* ê¸°ì¡´ 32px â†’ 16pxìœ¼ë¡œ ë‚´ë ¤ì„œ ì—¬ìœ  í™•ë³´ */
  z-index: 12;
}
```

#### í™•ì¸ ê¸°ì¤€
- [ ] Build Prompt Bar compact ëª¨ë“œì—ì„œ Zoom(+/-/0/1) ë²„íŠ¼ ëª¨ë‘ í´ë¦­ ê°€ëŠ¥
- [ ] Build Prompt Bar expanded ëª¨ë“œì—ì„œë„ Zoom ë²„íŠ¼ ì ‘ê·¼ ê°€ëŠ¥
- [ ] Zoom ë²„íŠ¼ê³¼ Build barê°€ ì‹œê°ì ìœ¼ë¡œ ê²¹ì¹˜ì§€ ì•ŠìŒ

---

### TASK-17: íŒ€ ìƒì„± í›„ ìë™ ë ˆì´ì•„ì›ƒ ì •ë ¬ [LAYOUT-2] ğŸŸ¡ P2

**ì˜ˆìƒ ê³µìˆ˜:** 0.5ì¼
**ë¯¸êµ¬í˜„ í™•ì¸:** `GraphView.tsx` â€” `autoLayoutSignal` prop ì—†ìŒ, Apply í›„ ìë™ layout íŠ¸ë¦¬ê±° ì—†ìŒ

#### ë¬¸ì œ
íŒ€ Apply ì§í›„ Agent ë…¸ë“œë“¤ì´ ì„ì˜ ìœ„ì¹˜(0,0 ë“±)ì— ìƒì„±ë˜ì–´ ê²¹ì¹¨.

#### ìˆ˜ì • ë°©ë²•

**íŒŒì¼: `webview-ui/src/App.tsx`**

```tsx
const [autoLayoutSignal, setAutoLayoutSignal] = useState(0);

// íŒ€ Apply ì„±ê³µ í›„ layout íŠ¸ë¦¬ê±°
const handleApplyGenerated = async (payload) => {
  setBusy(true);
  try {
    await requestToExtension({ type: "APPLY_GENERATED_STRUCTURE", payload });
    setGeneratedPreview(undefined);
    // âœ… íŒ€ Apply ì§í›„ ìë™ tidy layout ë°œë™
    setTimeout(() => setAutoLayoutSignal((prev) => prev + 1), 500);
  } catch (error) { ... }
  finally { setBusy(false); }
};
```

**íŒŒì¼: `webview-ui/src/canvas/GraphView.tsx`**

```tsx
type GraphViewProps = {
  ...
  autoLayoutSignal?: number;  // â† ì¶”ê°€
};

// autoLayoutSignal ë³€í™” ì‹œ tidyLayout ì‹¤í–‰
useEffect(() => {
  if (!autoLayoutSignal) return;
  const nextNodes = applyTidyLayout(nodes, edges);
  setNodes(nextNodes);
  nextNodes.forEach((node) =>
    onSaveNodePosition(node.id, node.position)
  );
}, [autoLayoutSignal]);
```

#### tidyLayout ë°°ì¹˜ ê¸°ì¤€ (ê¸°ì¡´ ë¡œì§ í™œìš©)

```
X.agent = 90       â†’ ëª¨ë“  Agent ë…¸ë“œëŠ” ì™¼ìª½ ì—´ì—
X.provider = 360   â†’ Provider ë…¸ë“œ ì¤‘ê°„ ì—´
X.skill = 680      â†’ Skill ë…¸ë“œ ì˜¤ë¥¸ìª½ ì—´
GAP.section = 46   â†’ Agent ê°„ ìˆ˜ì§ ê°„ê²©
```

#### í™•ì¸ ê¸°ì¤€
- [ ] íŒ€ Apply í›„ 0.5ì´ˆ ë‚´ì— ë…¸ë“œë“¤ì´ ìë™ ì •ë ¬
- [ ] ë…¸ë“œ ê²¹ì¹¨ ì—†ì´ ê¹”ë”í•œ ê·¸ë¦¬ë“œ ë°°ì¹˜
- [ ] ìœ„ì¹˜ê°€ `.agentcanvas` ì„¤ì •ì— ì €ì¥ë˜ì–´ ì¬ì˜¤í”ˆ ì‹œ ìœ ì§€

---

## 2ì°¨ ê°œì • â€” ì˜í–¥ íŒŒì¼ ì¶”ê°€ ëª©ë¡

| íŒŒì¼ | ë³€ê²½ ì¢…ë¥˜ | ê´€ë ¨ Task |
|------|----------|----------|
| `webview-ui/src/panels/AgentPreviewModal.tsx` | ìˆ˜ì • | 8, 10 |
| `webview-ui/src/panels/AgentCreationModal.tsx` | ìˆ˜ì • | 14 |
| `webview-ui/src/panels/ChatInput.tsx` | ìˆ˜ì • | 11, 12 |
| `webview-ui/src/panels/ChatMessageList.tsx` | ìˆ˜ì • | 13 |
| `webview-ui/src/panels/TeamPanel.tsx` | ìˆ˜ì • | 15 |
| `webview-ui/src/panels/RightPanel.tsx` | ìˆ˜ì • | 15 |
| `webview-ui/src/App.tsx` | ìˆ˜ì • | 8, 9, 11, 17 |
| `webview-ui/src/canvas/GraphView.tsx` | ìˆ˜ì • | 16, 17 |
| `webview-ui/src/styles.css` | ìˆ˜ì • | 13, 16 |
| `webview-ui/src/utils/modelOptions.ts` | **ì‹ ê·œ** | 12, 14 |
| `extension/src/services/backendProfiles.ts` | ìˆ˜ì • | 12 |

## 2ì°¨ ê°œì • â€” ìš°ì„ ìˆœìœ„ & ê³µìˆ˜

| ìˆœì„œ | Task | ìš°ì„ ìˆœìœ„ | ì˜ˆìƒ ê³µìˆ˜ |
|------|------|---------|----------|
| 1a | TASK-8: Rebuild ê¸°ì¡´ ì‚­ì œ | ğŸ”´ P0 | 0.5ì¼ |
| 1b | TASK-9: Chat ë©”ì‹œì§€ í‘œì‹œ | ğŸ”´ P0 | 1ì¼ |
| 1c | TASK-16: Zoom ë²„íŠ¼ ê²¹ì¹¨ | ğŸŸ  P1 | 0.5ì¼ |
| 1d | TASK-11: Backend ë™ê¸°í™” | ğŸŸ  P1 | 0.5ì¼ |
| 2a | TASK-10: ì‚¬ìš©ëŸ‰ 0 ì•ˆë‚´ | ğŸŸ¡ P2 | 0.5ì¼ |
| 2b | TASK-17: íŒ€ ìë™ ë ˆì´ì•„ì›ƒ | ğŸŸ¡ P2 | 0.5ì¼ |
| 3a | TASK-12: ìµœì‹  ëª¨ë¸ dropdown | ğŸŸ¢ P3 | 1ì¼ |
| 3b | TASK-13: í„°ë¯¸ë„ UI | ğŸŸ¢ P3 | 1ì¼ |
| 3c | TASK-14: Agent ëª¨ë‹¬ í™•ì¥ | ğŸŸ¢ P3 | 0.5ì¼ |
| 3d | TASK-15: +Skill ë²„íŠ¼ | ğŸŸ¢ P3 | 0.5ì¼ |

**2ì°¨ ì¶”ê°€ ê³µìˆ˜: 6.5ì¼** (ë³‘ë ¬ ì§„í–‰ ì‹œ 4~5ì¼)
